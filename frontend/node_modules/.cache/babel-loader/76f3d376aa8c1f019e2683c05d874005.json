{"ast":null,"code":"import _slicedToArray from\"/Users/pedromonteiroborges/Desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import firebase from\"firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProfilePic=function ProfilePic(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),imageUrl=_useState2[0],setImageUrl=_useState2[1];//const logo = require('../images/default_profile.png');\nvar user=props.user;// const logo = require(user.photoURL);\n// const storage = firebase.storage().ref()\nvar storage=firebase.storage();// Create a reference to the file we want to download\nvar gsReference=storage.refFromURL('gs://short-demo-login.appspot.com/default_profile.png');var getDefaultImage=function getDefaultImage(){gsReference.getDownloadURL().then(function(url){// Insert url into an <img> tag to \"download\"\nconsole.log(user.photoURL?user.photoURL:url);setImageUrl(url);//return <img src={url} alt=\"\"/>;\n}).catch(function(error){// A full list of error codes is available at\n// https://firebase.google.com/docs/storage/web/handle-errors\nswitch(error.code){case'storage/object-not-found':// File doesn't exist\nconsole.log(error.code+\"File doesn't exist\");break;case'storage/unauthorized':// User doesn't have permission to access the object\nconsole.log(error.code+\": User doesn't have permission to access the object\");break;case'storage/canceled':// User canceled the upload\nconsole.log(error.code+\": User canceled the upload\");break;case'storage/unknown':// Unknown error occurred, inspect the server response\\\nconsole.log(error.code+\": Unknown error occurred, inspect the server response\");break;}});};useEffect(function(){if(user.photoURL){setImageUrl(user.photoURL);}else{setImageUrl(getDefaultImage());}},[]);useEffect(function(){if(user.photoURL){setImageUrl(user.photoURL);}},[user.photoURL]);return/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"Profile-pic could not load\",className:props.className})// <img src={user.photoURL ? user.photoURL: getDefaultImage()} alt=\"ahhh\"/>\n;};export default ProfilePic;","map":{"version":3,"sources":["/Users/pedromonteiroborges/Desktop/CS32/Projects/term-project-awhite35-mcamach6-mhe26-pmontei1/frontend/src/components/ProfilePic.js"],"names":["React","useState","useEffect","firebase","ProfilePic","props","imageUrl","setImageUrl","user","storage","gsReference","refFromURL","getDefaultImage","getDownloadURL","then","url","console","log","photoURL","catch","error","code","className"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,C,2CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,eACMJ,QAAQ,CAAC,IAAD,CADd,wCACnBK,QADmB,eACTC,WADS,eAE1B;AACA,GAAMC,CAAAA,IAAI,CAAGH,KAAK,CAACG,IAAnB,CACA;AACA;AAEA,GAAIC,CAAAA,OAAO,CAAGN,QAAQ,CAACM,OAAT,EAAd,CACA;AACA,GAAIC,CAAAA,WAAW,CAAGD,OAAO,CAACE,UAAR,CAAmB,uDAAnB,CAAlB,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1BF,WAAW,CAACG,cAAZ,GACKC,IADL,CACU,SAACC,GAAD,CAAS,CACX;AACAC,OAAO,CAACC,GAAR,CAAYT,IAAI,CAACU,QAAL,CAAgBV,IAAI,CAACU,QAArB,CAAgCH,GAA5C,EACAR,WAAW,CAACQ,GAAD,CAAX,CACA;AACH,CANL,EAOKI,KAPL,CAOW,SAACC,KAAD,CAAW,CACd;AACA;AACA,OAAQA,KAAK,CAACC,IAAd,EACI,IAAK,0BAAL,CACI;AACAL,OAAO,CAACC,GAAR,CAAYG,KAAK,CAACC,IAAN,CAAa,oBAAzB,EACA,MACJ,IAAK,sBAAL,CACI;AACAL,OAAO,CAACC,GAAR,CAAYG,KAAK,CAACC,IAAN,CAAa,qDAAzB,EACA,MACJ,IAAK,kBAAL,CACI;AACAL,OAAO,CAACC,GAAR,CAAYG,KAAK,CAACC,IAAN,CAAa,4BAAzB,EACA,MACJ,IAAK,iBAAL,CACI;AACAL,OAAO,CAACC,GAAR,CAAYG,KAAK,CAACC,IAAN,CAAa,uDAAzB,EACA,MAhBR,CAkBH,CA5BL,EA6BH,CA9BD,CAgCAnB,SAAS,CAAC,UAAM,CACR,GAAIM,IAAI,CAACU,QAAT,CAAmB,CACfX,WAAW,CAACC,IAAI,CAACU,QAAN,CAAX,CACH,CAFD,IAEO,CACHX,WAAW,CAACK,eAAe,EAAhB,CAAX,CACH,CACJ,CANI,CAOH,EAPG,CAAT,CASAV,SAAS,CAAC,UAAM,CACR,GAAIM,IAAI,CAACU,QAAT,CAAmB,CACfX,WAAW,CAACC,IAAI,CAACU,QAAN,CAAX,CACH,CACJ,CAJI,CAKH,CAACV,IAAI,CAACU,QAAN,CALG,CAAT,CAOA,mBACI,YAAK,GAAG,CAAEZ,QAAV,CAAoB,GAAG,CAAC,4BAAxB,CAAqD,SAAS,CAAED,KAAK,CAACiB,SAAtE,EACA;AAFJ,CAIH,CA/DD,CAiEA,cAAelB,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\n\nconst ProfilePic = (props) => {\n    const [imageUrl, setImageUrl] = useState(null);\n    //const logo = require('../images/default_profile.png');\n    const user = props.user;\n    // const logo = require(user.photoURL);\n    // const storage = firebase.storage().ref()\n\n    let storage = firebase.storage();\n    // Create a reference to the file we want to download\n    let gsReference = storage.refFromURL('gs://short-demo-login.appspot.com/default_profile.png');\n\n    const getDefaultImage = () => {\n        gsReference.getDownloadURL()\n            .then((url) => {\n                // Insert url into an <img> tag to \"download\"\n                console.log(user.photoURL ? user.photoURL : url)\n                setImageUrl(url);\n                //return <img src={url} alt=\"\"/>;\n            })\n            .catch((error) => {\n                // A full list of error codes is available at\n                // https://firebase.google.com/docs/storage/web/handle-errors\n                switch (error.code) {\n                    case 'storage/object-not-found':\n                        // File doesn't exist\n                        console.log(error.code + \"File doesn't exist\")\n                        break;\n                    case 'storage/unauthorized':\n                        // User doesn't have permission to access the object\n                        console.log(error.code + \": User doesn't have permission to access the object\")\n                        break;\n                    case 'storage/canceled':\n                        // User canceled the upload\n                        console.log(error.code + \": User canceled the upload\")\n                        break;\n                    case 'storage/unknown':\n                        // Unknown error occurred, inspect the server response\\\n                        console.log(error.code + \": Unknown error occurred, inspect the server response\")\n                        break;\n                }\n            });\n    }\n\n    useEffect(() => {\n            if (user.photoURL) {\n                setImageUrl(user.photoURL);\n            } else {\n                setImageUrl(getDefaultImage());\n            }\n        }\n        , []);\n\n    useEffect(() => {\n            if (user.photoURL) {\n                setImageUrl(user.photoURL);\n            }\n        }\n        , [user.photoURL]);\n\n    return (\n        <img src={imageUrl} alt=\"Profile-pic could not load\" className={props.className}/>\n        // <img src={user.photoURL ? user.photoURL: getDefaultImage()} alt=\"ahhh\"/>\n    )\n}\n\nexport default ProfilePic"]},"metadata":{},"sourceType":"module"}