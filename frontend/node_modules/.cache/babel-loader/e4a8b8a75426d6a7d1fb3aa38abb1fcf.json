{"ast":null,"code":"import _slicedToArray from\"/Users/pedromonteiroborges/Desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import'./App.css';import fire from\"./fire\";import Nav from'./components/Nav';import Sidebar from'./components/Sidebar';import Homepage from'./pages/Homepage';import SharedWithMe from'./pages/SharedWithMe';import EditProfile from\"./pages/EditProfile\";import ViewResults from'./pages/ViewResults';import{BrowserRouter as Router,Switch,Route}from'react-router-dom';import Survey from'./Alana_stuff/Survey';import StartPage from\"./pages/StartPage\";import logo from\"./default.png\";import TakeSurvey from\"./pages/TakeSurvey\";//https://firebase.google.com/docs/auth/web/manage-users\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),emailError=_useState8[0],setEmailError=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),passwordError=_useState10[0],setPasswordError=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),hasAccount=_useState12[0],setHasAccount=_useState12[1];//const [popUpSeen, setPopUpSeen] = useState(false);\nvar _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),userName=_useState14[0],setUserName=_useState14[1];//const [agreed, setAgreed] = useState(false)\nvar clearInputs=function clearInputs(){setUserName('');setEmail('');setPassword('');};var clearErrors=function clearErrors(){setEmailError('');setPasswordError('');};var handleLogin=function handleLogin(){clearErrors();fire.auth().signInWithEmailAndPassword(email,password).catch(function(err){switch(err.code){case\"auth/invalid-email\":case\"auth/user-disabled\":case\"auth/user-not-found\":setEmailError(err.message);break;case\"auth/wrong-password\":setPasswordError(err.message);break;}});};var handleSignup=function handleSignup(){clearErrors();fire.auth().createUserWithEmailAndPassword(email,password).then(function(userCredential){userCredential.user.updateProfile({displayName:userName,photoURL:null});}).catch(function(err){switch(err.code){case\"auth/email-already-in-use\":case\"auth/invalid-email\":setEmailError(err.message);break;case\"auth/weak-password\":setPasswordError(err.message);break;// case agreed === true:\n//     setPasswordError(\"Agree to the privacy policy in order to create an account\");\n}});console.log(user);};var handleLogout=function handleLogout(){fire.auth().signOut();};var authListener=function authListener(){fire.auth().onAuthStateChanged(function(user){if(user){clearInputs();setUser(user);console.log(user);}else{setUser(\"\");}});};useEffect(function(){authListener();//listen for state change\n},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:user?/*#__PURE__*/_jsxs(\"section\",{className:\"hero\",children:[/*#__PURE__*/_jsx(Nav,{handleLogout:handleLogout,className:\"topNav\"}),/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Sidebar,{className:\"sideBarLeft\",user:user}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/Homepage\",component:Homepage}),/*#__PURE__*/_jsx(Route,{path:\"/SharedWithMe\",component:SharedWithMe}),/*#__PURE__*/_jsx(Route,{path:\"/TakeSurvey\",component:TakeSurvey}),/*#__PURE__*/_jsx(Route,{path:\"/EditProfile\",render:function render(){return/*#__PURE__*/_jsx(EditProfile,{user:user});}}),/*#__PURE__*/_jsx(Route,{path:\"/ViewResults\",component:ViewResults})]})]})})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(StartPage,{email:email,setEmail:setEmail,password:password,setPassword:setPassword,handleLogin:handleLogin,handleSignup:handleSignup,hasAccount:hasAccount,setHasAccount:setHasAccount,emailError:emailError,passwordError:passwordError,userName:userName,setUserName:setUserName//setAgreed = {setAgreed}\n})})});}export default App;/* {user ? (\n        <Router>\n          <section className = \"hero\">\n            <Nav handleLogout = {handleLogout}/>\n            <Sidebar user={user}/>\n            <Switch>\n              <Route path=\"/Homepage\" component={Homepage}/>\n              <Route path=\"/SharedWithMe\" component={SharedWithMe}/>\n            </Switch>\n\n          </section>\n        </Router>\n\n      ): (\n\n         <div>\n\n      <Start\n        email={email}\n        setEmail={setEmail}\n        password={password}\n        setPassword={setPassword}\n        handleLogin={handleLogin}\n        handleSignup={handleSignup}\n        hasAccount={hasAccount}\n        setHasAccount={setHasAccount}\n        emailError={emailError}\n        passwordError={passwordError}\n        popUpSeen = {popUpSeen}\n        setPopUpSeen = {setPopUpSeen}\n        userName = {userName}\n        setUserName = {setUserName}\n        //setAgreed = {setAgreed}\n      />\n      </div>   \n      )} */","map":{"version":3,"sources":["/Users/pedromonteiroborges/Desktop/CS32/Projects/term-project-awhite35-mcamach6-mhe26-pmontei1/frontend/src/App.js"],"names":["React","useState","useEffect","fire","Nav","Sidebar","Homepage","SharedWithMe","EditProfile","ViewResults","BrowserRouter","Router","Switch","Route","Survey","StartPage","logo","TakeSurvey","App","user","setUser","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","userName","setUserName","clearInputs","clearErrors","handleLogin","auth","signInWithEmailAndPassword","catch","err","code","message","handleSignup","createUserWithEmailAndPassword","then","userCredential","updateProfile","displayName","photoURL","console","log","handleLogout","signOut","authListener","onAuthStateChanged"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,kBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,OAAQC,aAAa,GAAIC,CAAAA,MAAzB,CAAiCC,MAAjC,CAAyCC,KAAzC,KAAqD,kBAArD,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,oBAAvB,CAEA;wFAEA,QAASC,CAAAA,GAAT,EAAe,eAEWjB,QAAQ,CAAC,EAAD,CAFnB,wCAENkB,IAFM,eAEAC,OAFA,8BAGanB,QAAQ,CAAC,EAAD,CAHrB,yCAGNoB,KAHM,eAGCC,QAHD,8BAImBrB,QAAQ,CAAC,EAAD,CAJ3B,yCAINsB,QAJM,eAIIC,WAJJ,8BAKuBvB,QAAQ,CAAC,EAAD,CAL/B,yCAKNwB,UALM,eAKMC,aALN,8BAM6BzB,QAAQ,CAAC,EAAD,CANrC,0CAMN0B,aANM,gBAMSC,gBANT,gCAOuB3B,QAAQ,CAAC,KAAD,CAP/B,2CAON4B,UAPM,gBAOMC,aAPN,gBASb;AATa,gBAUmB7B,QAAQ,CAAC,EAAD,CAV3B,2CAUN8B,QAVM,gBAUIC,WAVJ,gBAWb;AAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBD,WAAW,CAAC,EAAD,CAAX,CACAV,QAAQ,CAAC,EAAD,CAAR,CACAE,WAAW,CAAC,EAAD,CAAX,CACD,CAJD,CAOA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBR,aAAa,CAAC,EAAD,CAAb,CACAE,gBAAgB,CAAC,EAAD,CAAhB,CACD,CAHD,CAMA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBD,WAAW,GACX/B,IAAI,CACCiC,IADL,GAEKC,0BAFL,CAEgChB,KAFhC,CAEuCE,QAFvC,EAGKe,KAHL,CAGW,SAAAC,GAAG,CAAI,CACZ,OAAQA,GAAG,CAACC,IAAZ,EACE,IAAK,oBAAL,CACA,IAAK,oBAAL,CACA,IAAK,qBAAL,CACEd,aAAa,CAACa,GAAG,CAACE,OAAL,CAAb,CACA,MACF,IAAK,qBAAL,CACEb,gBAAgB,CAACW,GAAG,CAACE,OAAL,CAAhB,CACA,MARJ,CAUD,CAdL,EAeD,CAjBD,CAoBA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBR,WAAW,GACX/B,IAAI,CACCiC,IADL,GAEKO,8BAFL,CAEoCtB,KAFpC,CAE2CE,QAF3C,EAGKqB,IAHL,CAGU,SAACC,cAAD,CAAoB,CACxBA,cAAc,CAAC1B,IAAf,CAAoB2B,aAApB,CAAkC,CAChCC,WAAW,CAAEhB,QADmB,CAEhCiB,QAAQ,CAAE,IAFsB,CAAlC,EAID,CARL,EASKV,KATL,CASW,SAAAC,GAAG,CAAI,CACZ,OAAQA,GAAG,CAACC,IAAZ,EACE,IAAK,2BAAL,CACA,IAAK,oBAAL,CACEd,aAAa,CAACa,GAAG,CAACE,OAAL,CAAb,CACA,MACF,IAAK,oBAAL,CACEb,gBAAgB,CAACW,GAAG,CAACE,OAAL,CAAhB,CACA,MACA;AACA;AATJ,CAWD,CArBL,EAsBAQ,OAAO,CAACC,GAAR,CAAY/B,IAAZ,EACD,CAzBD,CA2BA,GAAMgC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBhD,IAAI,CAACiC,IAAL,GAAYgB,OAAZ,GACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBlD,IAAI,CAACiC,IAAL,GAAYkB,kBAAZ,CAA+B,SAACnC,IAAD,CAAU,CACvC,GAAIA,IAAJ,CAAU,CACRc,WAAW,GACXb,OAAO,CAACD,IAAD,CAAP,CACA8B,OAAO,CAACC,GAAR,CAAY/B,IAAZ,EAED,CALD,IAKO,CACLC,OAAO,CAAC,EAAD,CAAP,CACD,CACF,CATD,EAUD,CAXD,CAaAlB,SAAS,CAAC,UAAM,CACdmD,YAAY,GAAI;AACjB,CAFQ,CAEN,EAFM,CAAT,CAKA,mBACI,YAAK,SAAS,CAAC,KAAf,UACGlC,IAAI,cACD,iBAAS,SAAS,CAAC,MAAnB,wBAEE,KAAC,GAAD,EAAK,YAAY,CAAEgC,YAAnB,CAAiC,SAAS,CAAC,QAA3C,EAFF,cAGE,YAAK,SAAS,CAAC,MAAf,uBACE,MAAC,MAAD,yBACE,KAAC,OAAD,EAAS,SAAS,CAAC,aAAnB,CAAiC,IAAI,CAAEhC,IAAvC,EADF,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAyB,SAAS,CAAEb,QAApC,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,CAA4B,SAAS,CAAEC,YAAvC,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,SAAS,CAAEU,UAArC,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,MAAM,CAAE,qCAC/B,KAAC,WAAD,EAAa,IAAI,CAAEE,IAAnB,EAD+B,EAAnC,EAJF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,SAAS,CAAEV,WAAtC,EAPF,GAFF,GADF,EAHF,GADC,cAuBD,kCAEE,KAAC,SAAD,EACI,KAAK,CAAEY,KADX,CAEI,QAAQ,CAAEC,QAFd,CAGI,QAAQ,CAAEC,QAHd,CAII,WAAW,CAAEC,WAJjB,CAKI,WAAW,CAAEW,WALjB,CAMI,YAAY,CAAEO,YANlB,CAOI,UAAU,CAAEb,UAPhB,CAQI,aAAa,CAAEC,aARnB,CASI,UAAU,CAAEL,UAThB,CAUI,aAAa,CAAEE,aAVnB,CAYI,QAAQ,CAAEI,QAZd,CAaI,WAAW,CAAEC,WACb;AAdJ,EAFF,EAxBN,EADJ,CAgDD,CAED,cAAed,CAAAA,GAAf,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport './App.css';\nimport fire from \"./fire\";\nimport Nav from './components/Nav'\nimport Sidebar from './components/Sidebar'\nimport Homepage from './pages/Homepage'\nimport SharedWithMe from './pages/SharedWithMe'\nimport EditProfile from \"./pages/EditProfile\";\nimport ViewResults from './pages/ViewResults'\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\nimport Survey from './Alana_stuff/Survey'\nimport StartPage from \"./pages/StartPage\";\nimport logo from \"./default.png\"\nimport TakeSurvey from \"./pages/TakeSurvey\";\n\n//https://firebase.google.com/docs/auth/web/manage-users\n\nfunction App() {\n\n  const [user, setUser] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [emailError, setEmailError] = useState('')\n  const [passwordError, setPasswordError] = useState('')\n  const [hasAccount, setHasAccount] = useState(false)\n\n  //const [popUpSeen, setPopUpSeen] = useState(false);\n  const [userName, setUserName] = useState('')\n  //const [agreed, setAgreed] = useState(false)\n\n\n  const clearInputs = () => {\n    setUserName('');\n    setEmail('');\n    setPassword('');\n  }\n\n\n  const clearErrors = () => {\n    setEmailError('');\n    setPasswordError('');\n  }\n\n\n  const handleLogin = () => {\n    clearErrors();\n    fire\n        .auth()\n        .signInWithEmailAndPassword(email, password)\n        .catch(err => {\n          switch (err.code) {\n            case \"auth/invalid-email\":\n            case \"auth/user-disabled\":\n            case \"auth/user-not-found\":\n              setEmailError(err.message);\n              break;\n            case \"auth/wrong-password\":\n              setPasswordError(err.message);\n              break;\n          }\n        });\n  }\n\n\n  const handleSignup = () => {\n    clearErrors();\n    fire\n        .auth()\n        .createUserWithEmailAndPassword(email, password)\n        .then((userCredential) => {\n          userCredential.user.updateProfile({\n            displayName: userName,\n            photoURL: null,\n          })\n        })\n        .catch(err => {\n          switch (err.code) {\n            case \"auth/email-already-in-use\":\n            case \"auth/invalid-email\":\n              setEmailError(err.message);\n              break;\n            case \"auth/weak-password\":\n              setPasswordError(err.message);\n              break;\n              // case agreed === true:\n              //     setPasswordError(\"Agree to the privacy policy in order to create an account\");\n          }\n        });\n    console.log(user);\n  }\n\n  const handleLogout = () => {\n    fire.auth().signOut();\n  }\n\n  const authListener = () => {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        clearInputs();\n        setUser(user);\n        console.log(user)\n\n      } else {\n        setUser(\"\")\n      }\n    });\n  };\n\n  useEffect(() => {\n    authListener(); //listen for state change\n  }, []);\n\n\n  return (\n      <div className=\"App\">\n        {user ? (\n            <section className=\"hero\">\n              {/*<img src={logo} alt =\"LOADDDD\"/>*/}\n              <Nav handleLogout={handleLogout} className=\"topNav\"/>\n              <div className=\"page\">\n                <Router>\n                  <Sidebar className=\"sideBarLeft\" user={user}/>\n                  <Switch >\n                    <Route path=\"/Homepage\"  component={Homepage}/>\n                    <Route path=\"/SharedWithMe\" component={SharedWithMe}/>\n                    <Route path=\"/TakeSurvey\" component={TakeSurvey}/>\n                    <Route path=\"/EditProfile\" render={() => (\n                        <EditProfile user={user}/>\n                    )}/>\n                    <Route path=\"/ViewResults\" component={ViewResults}/>\n                    {/*<Route path=\"/Login\" component={StartPage}/>*/}\n                  </Switch>\n                </Router>\n              </div>\n            </section>\n\n        ) : (\n\n            <div>\n\n              <StartPage\n                  email={email}\n                  setEmail={setEmail}\n                  password={password}\n                  setPassword={setPassword}\n                  handleLogin={handleLogin}\n                  handleSignup={handleSignup}\n                  hasAccount={hasAccount}\n                  setHasAccount={setHasAccount}\n                  emailError={emailError}\n                  passwordError={passwordError}\n\n                  userName={userName}\n                  setUserName={setUserName}\n                  //setAgreed = {setAgreed}\n              />\n            </div>\n        )}\n      </div>\n  );\n\n}\n\nexport default App;\n/* {user ? (\n        <Router>\n          <section className = \"hero\">\n            <Nav handleLogout = {handleLogout}/>\n            <Sidebar user={user}/>\n            <Switch>\n              <Route path=\"/Homepage\" component={Homepage}/>\n              <Route path=\"/SharedWithMe\" component={SharedWithMe}/>\n            </Switch>\n\n          </section>\n        </Router>\n\n      ): (\n\n         <div>\n\n      <Start\n        email={email}\n        setEmail={setEmail}\n        password={password}\n        setPassword={setPassword}\n        handleLogin={handleLogin}\n        handleSignup={handleSignup}\n        hasAccount={hasAccount}\n        setHasAccount={setHasAccount}\n        emailError={emailError}\n        passwordError={passwordError}\n        popUpSeen = {popUpSeen}\n        setPopUpSeen = {setPopUpSeen}\n        userName = {userName}\n        setUserName = {setUserName}\n        //setAgreed = {setAgreed}\n      />\n      </div>   \n      )} */"]},"metadata":{},"sourceType":"module"}